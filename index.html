<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é«˜æ ¡ç”Ÿç‰© ãƒã‚¤ã‚ªãƒ¼ãƒ å­¦ç¿’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <!-- Tailwind CSSã®ãƒ­ãƒ¼ãƒ‰ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ•ã‚©ãƒ³ãƒˆè¨­å®šã¨åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            color: #1f2937; /* Dark Gray */
            padding: 1rem;
            min-height: 100vh;
        }

        /* ãƒã‚¤ã‚ªãƒ¼ãƒ ç”»åƒã‚³ãƒ³ãƒ†ãƒŠ */
        #imageContainer {
            background-color: #e0e0e0; /* ç”»åƒãƒ­ãƒ¼ãƒ‰ä¸­ã®èƒŒæ™¯ */
            padding-bottom: 56.25%; /* 16:9 ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯” */
        }
        .biome-image {
            transition: opacity 0.5s ease-in-out; /* 0.5sã®ãƒ•ã‚§ãƒ¼ãƒ‰ */
        }

        /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®è¦‹ãŸç›®ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #d1d5db;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 0;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4f46e5; /* Indigo */
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
            transition: background 0.3s;
        }

        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4f46e5;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        /* ãƒœã‚¿ãƒ³ã®å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
        .biome-button {
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .biome-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .biome-button:active {
            transform: translateY(0);
        }

    </style>
</head>
<body>

    <div id="app" class="max-w-4xl mx-auto">
        <header class="text-center mb-6">
            <h1 class="text-3xl font-extrabold text-indigo-700">ğŸŒ ãƒã‚¤ã‚ªãƒ¼ãƒ å­¦ç¿’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
            <p class="text-gray-600 mt-1">ç’°å¢ƒè¦å› ã‚’æ“ä½œã—ã¦ã€æ¤ç”Ÿã®å¤‰åŒ–ã¨ãƒã‚¤ã‚ªãƒ¼ãƒ ã‚’è¦³å¯Ÿã—ã‚ˆã†</p>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ (ãƒ¢ãƒã‚¤ãƒ«ã§ã¯ç¸¦ä¸¦ã³ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã¯æ¨ªä¸¦ã³) -->
        <div class="md:flex md:space-x-6">

            <!-- 1. ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« (å·¦å´/ä¸Šå´) -->
            <div class="md:w-1/3 bg-white p-6 rounded-xl shadow-lg mb-6 md:mb-0 space-y-4">
                <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">ç’°å¢ƒè¦å› ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«</h2>

                <!-- é™æ°´é‡ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ -->
                <div class="slider-group">
                    <label for="precipitation" class="block text-sm font-medium text-gray-700">å¹´é™æ°´é‡: <span id="precValue" class="font-semibold text-indigo-600">1500</span> mm</label>
                    <input type="range" id="precipitation" min="0" max="4000" step="10" value="1500" class="w-full">
                </div>

                <!-- æ°—æ¸©ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ -->
                <div class="slider-group mt-4">
                    <label for="temperature" class="block text-sm font-medium text-gray-700">å¹´å¹³å‡æ°—æ¸©: <span id="tempValue" class="font-semibold text-indigo-600">10.0</span> Â°C</label>
                    <input type="range" id="temperature" min="-15" max="30" step="0.5" value="10" class="w-full">
                </div>

                <!-- æ“ä½œãƒœã‚¿ãƒ³ -->
                <div class="flex space-x-4 pt-4 border-t mt-6">
                    <button id="resetButton" class="biome-button flex-1 py-2 px-4 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium">ãƒªã‚»ãƒƒãƒˆ</button>
                    <button id="randomButton" class="biome-button flex-1 py-2 px-4 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 font-medium">ãƒ©ãƒ³ãƒ€ãƒ </button>
                </div>
                
                <!-- Gemini AIæ©Ÿèƒ½ãƒœã‚¿ãƒ³ï¼ˆå‰Šé™¤ã•ã‚Œã¾ã—ãŸï¼‰ -->
            </div>

            <!-- 2. ç”»åƒã¨æƒ…å ±ãƒ‘ãƒãƒ« (å³å´/ä¸‹å´) -->
            <div class="md:w-2/3 space-y-6">
                <!-- ãƒã‚¤ã‚ªãƒ¼ãƒ ç”»åƒã‚³ãƒ³ãƒ†ãƒŠ -->
                <div id="imageContainer" class="w-full relative rounded-xl shadow-lg overflow-hidden">
                    <!-- ç”»åƒã¯JavaScriptã«ã‚ˆã£ã¦ãƒ•ã‚§ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã•ã‚Œã¾ã™ -->
                    <img id="biomeImageBack" src="" alt="ãƒã‚¤ã‚ªãƒ¼ãƒ ã®ã‚¤ãƒ¡ãƒ¼ã‚¸" class="biome-image absolute top-0 left-0 w-full h-full object-cover opacity-0">
                    <img id="biomeImageFront" src="" alt="ãƒã‚¤ã‚ªãƒ¼ãƒ ã®ã‚¤ãƒ¡ãƒ¼ã‚¸" class="biome-image absolute top-0 left-0 w-full h-full object-cover opacity-100">
                </div>

                <!-- æƒ…å ±è¡¨ç¤ºãƒ‘ãƒãƒ« -->
                <div id="infoPanel" class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-500">
                    <h2 id="biomeName" class="text-2xl font-extrabold text-indigo-800 mb-2">ç†±å¸¯å¤šé›¨æ—</h2>
                    <p id="biomeDescription" class="text-gray-700 mb-3 leading-relaxed">
                        å¹´ä¸­é«˜æ¸©å¤šæ¹¿ã§ã€å¤šå±¤æ§‹é€ ã®å·¨å¤§ãªå¸¸ç·‘åºƒè‘‰æ¨¹æ—ã€‚
                    </p>
                    <div class="text-sm">
                        <span class="font-semibold text-gray-600">ä»£è¡¨ä¾‹:</span>
                        <span id="biomeExamples" class="text-gray-700">ãƒ•ã‚¿ãƒã‚¬ã‚­, ã‚ªã‚ªã‚´ãƒãƒ€ãƒ©, é¡äººçŒ¿</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer class="mt-8 text-center text-sm text-gray-500">
            &copy; 2025 Biome Simulator
        </footer>

    </div>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸ -->

    <script>
        // ===============================================
        // JavaScript / ãƒãƒƒãƒ—ãƒ­ã‚¸ãƒƒã‚¯
        // ===============================================

        const BIOMES_DATA = {
            'ç†±å¸¯å¤šé›¨æ—': { P: 3000, T: 25, description: 'å¹´ä¸­é«˜æ¸©å¤šæ¹¿ã§ã€å¤šå±¤æ§‹é€ ã®å·¨å¤§ãªå¸¸ç·‘åºƒè‘‰æ¨¹æ—ã€‚', examples: ['ãƒ•ã‚¿ãƒã‚¬ã‚­', 'ã‚ªã‚ªã‚´ãƒãƒ€ãƒ©', 'é¡äººçŒ¿'], colors: { ground: '#006400' }, 
                imageSrc: 'subtropical_rainforest.jpg' }, // â˜… å¤‰æ›´: äºœç†±å¸¯å¤šé›¨æ—ã®ç”»åƒã‚’ä»£ç”¨
            'äºœç†±å¸¯å¤šé›¨æ—': { P: 2000, T: 20, description: 'ç†±å¸¯ã¨æ¸©å¸¯ã®é–“ã«ä½ç½®ã™ã‚‹ã€é™æ°´é‡ãŒå¤šã„å¸¸ç·‘åºƒè‘‰æ¨¹æ—ã€‚', examples: ['ã‚¬ã‚¸ãƒ¥ãƒãƒ«', 'ã‚¢ãƒ€ãƒ³', 'ãƒ¤ãƒ³ãƒãƒ«ã‚¯ã‚¤ãƒŠ'], colors: { ground: '#228B22' }, 
                imageSrc: 'subtropical_rainforest.jpg' }, // â˜… å¤‰æ›´
            'é›¨ç·‘æ¨¹æ—': { P: 1200, T: 25, description: 'ä¹¾å­£ã¨é›¨å­£ãŒæ˜ç¢ºãªç†±å¸¯ãƒ»äºœç†±å¸¯åœ°åŸŸã«è¦‹ã‚‰ã‚Œã‚‹ã€ä¹¾å­£ã«è½è‘‰ã™ã‚‹æ¨¹æ—ã€‚', examples: ['ãƒãƒ¼ã‚¯', 'ãƒãƒ›ã‚¬ãƒ‹ãƒ¼', 'ã‚¢ã‚¸ã‚¢ã‚¾ã‚¦'], colors: { ground: '#556B2F' }, 
                imageSrc: 'deciduous_rainforest.jpg' }, // â˜… å¤‰æ›´
            'ç…§è‘‰æ¨¹æ—': { P: 1500, T: 15, description: 'æ¸©æš–ã§é™æ°´é‡ã®å¤šã„åœ°åŸŸã«ç™ºé”ã™ã‚‹ã€å…‰æ²¢ã®ã‚ã‚‹è‘‰ã‚’æŒã¤å¸¸ç·‘åºƒè‘‰æ¨¹æ—ã€‚', examples: ['ã‚«ã‚·', 'ã‚·ã‚¤', 'ãƒ„ãƒã‚­', 'ãƒ‹ãƒ›ãƒ³ã‚¸ã‚«'], colors: { ground: '#38761D' }, 
                imageSrc: 'laurel_forest.jpg' }, // â˜… å¤‰æ›´
            'å¤ç·‘æ¨¹æ—': { P: 1200, T: 10, description: 'å››å­£ãŒã‚ã‚Šå†¬ã«è½è‘‰ã™ã‚‹åºƒè‘‰æ¨¹ãŒå„ªå ã™ã‚‹æ¸©å¸¯æ—ã€‚', examples: ['ãƒ–ãƒŠ', 'ã‚«ã‚¨ãƒ‡', 'ãƒŠãƒ©', 'ã‚¯ãƒ'], colors: { ground: '#8B4513' }, 
                imageSrc: 'summergreen_forest.jpg' }, // â˜… å¤‰æ›´
            'ç¡¬è‘‰æ¨¹æ—': { P: 700, T: 15, description: 'å¤ã«ä¹¾ç‡¥ã—å†¬ã«é›¨ãŒé™ã‚‹åœ°ä¸­æµ·æ€§æ°—å€™åœ°åŸŸã«è¦‹ã‚‰ã‚Œã‚‹ã€ç¡¬ã„è‘‰ã‚’æŒã¤æ¨¹æ—ã€‚', examples: ['ã‚ªãƒªãƒ¼ãƒ–', 'ã‚³ãƒ«ã‚¯ã‚¬ã‚·', 'ãƒ¤ã‚®'], colors: { ground: '#90EE90' }, 
                imageSrc: 'hardwood_forest.jpg' }, // â˜… å¤‰æ›´
            'é‡è‘‰æ¨¹æ—': { P: 600, T: 0, description: 'å¯’å†·ãªåœ°åŸŸã«åºƒãŒã‚‹ã€ãƒˆã‚¦ãƒ’ã‚„ãƒ¢ãƒŸãªã©ã®é‡è‘‰æ¨¹ãŒå„ªå ã™ã‚‹åŒ—æ–¹æ—ï¼ˆã‚¿ã‚¤ã‚¬ï¼‰ã€‚', examples: ['ãƒˆã‚¦ãƒ’', 'ãƒ¢ãƒŸ', 'ãƒ˜ãƒ©ã‚¸ã‚«'], colors: { ground: '#556B2F' }, 
                imageSrc: 'coniferous_forest.jpg' }, // â˜… å¤‰æ›´
            'ã‚¹ãƒ†ãƒƒãƒ—': { P: 400, T: 15, description: 'æ¸©å¸¯ã®å†…é™¸éƒ¨ã«åºƒãŒã‚‹ä¹¾ç‡¥ã—ãŸè‰åŸã€‚', examples: ['ã‚¤ãƒç§‘æ¤ç‰©', 'ã‚­ã‚¯ç§‘æ¤ç‰©', 'ã‚¦ã‚µã‚®'], colors: { ground: '#DAA520' }, 
                imageSrc: 'steppe.jpg' }, // â˜… å¤‰æ›´
            'ã‚µãƒãƒ³ãƒŠ': { P: 800, T: 25, description: 'å­£ç¯€çš„ã«é›¨ãŒé™ã‚‹ç†±å¸¯ã®è‰åŸã€‚ç–æ—ã¨é•·è‰æœ¬ãŒå„ªå ã€‚', examples: ['ãƒã‚ªãƒãƒ–', 'ã‚¢ã‚«ã‚·ã‚¢', 'ã‚·ãƒã‚¦ãƒ'], colors: { ground: '#DAA520' }, 
                imageSrc: 'savanna.jpg' }, // â˜… å¤‰æ›´
            'ãƒ„ãƒ³ãƒ‰ãƒ©': { P: 300, T: -10, description: 'æ¥µã‚ã¦å¯’å†·ã§ã€æ°¸ä¹…å‡åœŸãŒåºƒãŒã‚Šã€åœ°è¡£é¡ã‚„ã‚³ã‚±é¡ãŒç”Ÿè‚²ã€‚', examples: ['åœ°è¡£é¡', 'ã‚³ã‚±é¡', 'ã‚«ãƒªãƒ–ãƒ¼', 'ãƒ›ãƒƒã‚­ãƒ§ã‚¯ã‚°ãƒ'], colors: { ground: '#C0C0C0' }, 
                imageSrc: 'tundra.jpg' }, // â˜… å¤‰æ›´
            'ç ‚æ¼ ': { P: 100, T: 20, description: 'é™æ°´é‡ãŒæ¥µã‚ã¦å°‘ãªãã€é«˜æ¸©ã§ã€ä¹¾ç‡¥ã«é©å¿œã—ãŸæ¤ç‰©ãŒç”Ÿè‚²ã€‚', examples: ['ã‚µãƒœãƒ†ãƒ³', 'ã‚¢ãƒ­ã‚¨', 'ãƒ©ã‚¯ãƒ€', 'ã‚¹ãƒŠãƒã‚³'], colors: { ground: '#D2B48C' }, 
                imageSrc: 'desert.jpg' }, // â˜… å¤‰æ›´
        };

        // ç”»åƒè¦ç´ 
        let imgFront = document.getElementById('biomeImageFront');
        let imgBack = document.getElementById('biomeImageBack');
        
        // UIè¦ç´ 
        const precSlider = document.getElementById('precipitation');
        const tempSlider = document.getElementById('temperature');
        const precValueSpan = document.getElementById('precValue');
        const tempValueSpan = document.getElementById('tempValue');
        const biomeNameDisplay = document.getElementById('biomeName');
        const biomeDescDisplay = document.getElementById('biomeDescription');
        const biomeExamplesDisplay = document.getElementById('biomeExamples');
        const resetButton = document.getElementById('resetButton');
        const randomButton = document.getElementById('randomButton');
        const infoPanel = document.getElementById('infoPanel');
        
        // State
        let currentPrec = parseFloat(precSlider.value);
        let currentTemp = parseFloat(tempSlider.value);

        // Pã¨Tã‹ã‚‰ãƒã‚¤ã‚ªãƒ¼ãƒ åã‚’åˆ¤å®šã™ã‚‹é–¢æ•°
        function determineBiome(P, T) {
            // å„ªå…ˆé †ä½: å¯’å†· > ä¹¾ç‡¥ > ãã®ä»–
            if (T < -10) { // -15â„ƒã«è¿‘ã¥ãã¨ãƒ„ãƒ³ãƒ‰ãƒ©
                return BIOMES_DATA['ãƒ„ãƒ³ãƒ‰ãƒ©'];
            }
            if (P < 250) {
                return BIOMES_DATA['ç ‚æ¼ '];
            }
            
            // ç†±å¸¯ (T > 20)
            if (T > 20) {
                if (P > 2000) return BIOMES_DATA['ç†±å¸¯å¤šé›¨æ—'];
                if (P > 1000) return BIOMES_DATA['é›¨ç·‘æ¨¹æ—'];
                if (P > 300) return BIOMES_DATA['ã‚µãƒãƒ³ãƒŠ'];
                return BIOMES_DATA['ç ‚æ¼ ']; // T>20, P<300
            }
            // äºœç†±å¸¯ãƒ»æš–æ¸©å¸¯ (T > 15)
            if (T > 15) {
                if (P > 1800) return BIOMES_DATA['äºœç†±å¸¯å¤šé›¨æ—'];
                if (P > 800) return BIOMES_DATA['ç…§è‘‰æ¨¹æ—'];
                if (P > 300) return BIOMES_DATA['ã‚¹ãƒ†ãƒƒãƒ—'];
                return BIOMES_DATA['ç ‚æ¼ '];
            }
            // å†·æ¸©å¸¯ (T > 5)
            if (T > 5) {
                if (P > 1000) return BIOMES_DATA['å¤ç·‘æ¨¹æ—'];
                if (P > 400) return BIOMES_DATA['ç¡¬è‘‰æ¨¹æ—'];
                return BIOMES_DATA['ã‚¹ãƒ†ãƒƒãƒ—'];
            }
            // äºœå¯’å¸¯ (T > -10)
            if (T > -10) {
                if (P > 400) return BIOMES_DATA['é‡è‘‰æ¨¹æ—'];
                return BIOMES_DATA['ãƒ„ãƒ³ãƒ‰ãƒ©']; // TãŒ-10~5ã§PãŒå°‘ãªã„
            }
            
            return BIOMES_DATA['ãƒ„ãƒ³ãƒ‰ãƒ©']; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ (-10ä»¥ä¸‹)
        }
        
        // ãƒã‚¤ã‚ªãƒ¼ãƒ åã‚’å–å¾—ã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
        function getBiomeName(biomeData) {
            for (const key in BIOMES_DATA) {
                if (BIOMES_DATA[key].description === biomeData.description) {
                    return key;
                }
            }
            return 'ä¸æ˜';
        }
        
        // ç”»åƒã‚’ã‚¯ãƒ­ã‚¹ãƒ•ã‚§ãƒ¼ãƒ‰ã§æ›´æ–°ã™ã‚‹é–¢æ•°
        let isFading = false;
        let currentImageSrc = ''; // ç¾åœ¨è¡¨ç¤ºä¸­ã®ç”»åƒãƒ‘ã‚¹ã‚’è¿½è·¡
        
        function updateBiomeImage(newImageSrc) {
            // æ–°ã—ã„ç”»åƒãŒç¾åœ¨è¡¨ç¤ºä¸­ã®ã‚‚ã®ã¨åŒã˜ã€ã¾ãŸã¯ãƒ•ã‚§ãƒ¼ãƒ‰ä¸­ãªã‚‰ä½•ã‚‚ã—ãªã„
            if (newImageSrc === currentImageSrc || isFading) {
                return;
            }
            
            currentImageSrc = newImageSrc; // è¡¨ç¤ºã™ã‚‹ç”»åƒãƒ‘ã‚¹ã‚’æ›´æ–°
            isFading = true;
            
            // 1. èƒŒé¢(Back)ã®imgã‚¿ã‚°ã«æ–°ã—ã„ç”»åƒã‚’è¨­å®š
            imgBack.src = newImageSrc;
            
            // 2. èƒŒé¢(Back)ã‚’ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
            imgBack.style.opacity = 1;
            // 3. å‰é¢(Front)ã‚’ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
            imgFront.style.opacity = 0;

            // 4. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†å¾Œ (0.5ç§’) ã«å‚ç…§ã‚’å…¥ã‚Œæ›¿ãˆã‚‹
            setTimeout(() => {
                // Front ã¨ Back ã®DOMå‚ç…§ã‚’å…¥ã‚Œæ›¿ãˆã‚‹
                [imgFront, imgBack] = [imgBack, imgFront];
                isFading = false;
            }, 500); // CSSã®transitionæ™‚é–“ã¨åˆã‚ã›ã‚‹
        }


        // ===============================================
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ© (ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å¯¾å¿œ)
        // ===============================================

        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å¤‰æ›´ãƒ­ã‚¸ãƒƒã‚¯
        function handleSliderChange() {
            currentPrec = parseFloat(precSlider.value);
            currentTemp = parseFloat(tempSlider.value);
            
            // UIã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
            precValueSpan.textContent = currentPrec;
            tempValueSpan.textContent = currentTemp.toFixed(1);

            // ãƒã‚¤ã‚ªãƒ¼ãƒ ã®æ±ºå®š
            const newBiomeData = determineBiome(currentPrec, currentTemp);
            const biomeName = getBiomeName(newBiomeData);
            
            // æƒ…å ±ãƒ‘ãƒãƒ«ã®æ›´æ–°
            if (biomeNameDisplay.textContent !== biomeName) {
                biomeNameDisplay.textContent = biomeName;
                biomeDescDisplay.textContent = newBiomeData.description;
                biomeExamplesDisplay.textContent = newBiomeData.examples.join(', ');
                infoPanel.style.borderColor = newBiomeData.colors.ground; // è‰²ã¯ãƒ‡ãƒ¼ã‚¿ã«æ®‹ã—ã¦ãŠã
            }

            // ç”»åƒæ›´æ–°ã‚’å‘¼ã³å‡ºã™
            updateBiomeImage(newBiomeData.imageSrc);
        }

        // åˆæœŸåŒ–ã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
        function initialize() {
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            precSlider.addEventListener('input', handleSliderChange);
            tempSlider.addEventListener('input', handleSliderChange);

            // ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ (åˆæœŸå€¤: å¤ç·‘æ¨¹æ—ã‚ãŸã‚Š)
            resetButton.addEventListener('click', () => {
                precSlider.value = 1500;
                tempSlider.value = 10;
                handleSliderChange();
            });

            // ãƒ©ãƒ³ãƒ€ãƒ è¨­å®šãƒœã‚¿ãƒ³
            randomButton.addEventListener('click', () => {
                // æ–°ã—ã„ç¯„å›²ã«å¯¾å¿œ
                precSlider.value = Math.floor(Math.random() * 401) * 10; // 0-4000
                tempSlider.value = (Math.random() * 45 - 15).toFixed(1); // -15.0 - 30.0
                handleSliderChange();
            });
            
            // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«åˆå›å®Ÿè¡Œ
            handleSliderChange();
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰å®Œäº†å¾Œã«åˆæœŸåŒ–
        window.onload = initialize;

    </script>
</body>
</html>
